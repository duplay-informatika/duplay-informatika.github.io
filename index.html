<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kuis Interaktif - Informatika Kelas X</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #1a2a6c, #2c3e50);
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path d="M0,0 L100,0 L100,100 Z" fill="rgba(255,255,255,0.1)"/></svg>');
            background-size: cover;
        }

        .header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
            position: relative;
        }

        .header p {
            opacity: 0.9;
            font-size: 1.1em;
            position: relative;
        }

        .quiz-container {
            padding: 30px;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            background: #f8f9fa;
            padding: 15px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }

        .nav-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            background: #3498db;
            color: white;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(52, 152, 219, 0.3);
        }

        .nav-btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
            box-shadow: 0 6px 8px rgba(52, 152, 219, 0.4);
        }

        .nav-btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .question-counter {
            font-weight: bold;
            color: #2c3e50;
            font-size: 18px;
            display: flex;
            align-items: center;
        }

        .question-section {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            margin-bottom: 25px;
            border-left: 5px solid #3498db;
            transition: all 0.3s ease;
        }

        .question-section:hover {
            box-shadow: 0 8px 20px rgba(0,0,0,0.12);
        }

        .question-text {
            font-size: 1.3em;
            color: #2c3e50;
            margin-bottom: 20px;
            font-weight: 600;
            line-height: 1.5;
        }

        .options-container {
            display: grid;
            gap: 12px;
            margin-bottom: 20px;
        }

        .option {
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: #fafafa;
            display: flex;
            align-items: center;
        }

        .option:hover {
            border-color: #3498db;
            background: #f0f8ff;
            transform: translateX(5px);
        }

        .option.selected {
            border-color: #27ae60;
            background: #e8f6ef;
            transform: translateX(5px);
        }

        .option-label {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: #e0e0e0;
            margin-right: 15px;
            font-weight: bold;
            color: #555;
            transition: all 0.3s ease;
        }

        .option.selected .option-label {
            background: #27ae60;
            color: white;
        }

        .explanation {
            background: #e8f4fd;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            border-left: 4px solid #3498db;
            display: none;
        }

        .explanation.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .score-section {
            text-align: center;
            padding: 30px;
            display: none;
        }

        .score-section.show {
            display: block;
            animation: fadeIn 0.8s ease;
        }

        .score-circle {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            margin: 0 auto 25px;
            box-shadow: 0 10px 25px rgba(39, 174, 96, 0.3);
            position: relative;
            overflow: hidden;
        }

        .score-circle::before {
            content: "";
            position: absolute;
            width: 150%;
            height: 150%;
            background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0) 70%);
            top: -25%;
            left: -25%;
        }

        .score-percent {
            font-size: 2.8em;
            font-weight: bold;
            position: relative;
        }

        .score-text {
            font-size: 1.1em;
            opacity: 0.9;
            position: relative;
        }

        .restart-btn {
            padding: 15px 40px;
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
            box-shadow: 0 6px 12px rgba(231, 76, 60, 0.3);
        }

        .restart-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(231, 76, 60, 0.4);
        }

        .progress-bar {
            height: 10px;
            background: #ecf0f1;
            border-radius: 5px;
            margin-bottom: 20px;
            overflow: hidden;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);
        }

        .progress {
            height: 100%;
            background: linear-gradient(90deg, #27ae60, #2ecc71);
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 5px;
        }

        .correct-answer {
            color: #27ae60;
            font-weight: bold;
            margin-top: 10px;
            padding: 8px 12px;
            background: #e8f6ef;
            border-radius: 6px;
            display: inline-block;
        }

        .user-answer {
            color: #e74c3c;
            font-weight: bold;
            margin-top: 5px;
            padding: 8px 12px;
            background: #fdedec;
            border-radius: 6px;
            display: inline-block;
        }

        .matching-pair {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            margin-bottom: 10px;
            background: #fafafa;
            transition: all 0.3s ease;
        }

        .matching-pair:hover {
            background: #f0f8ff;
            border-color: #3498db;
        }

        .matching-pair select {
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            background: white;
            font-family: inherit;
            width: 180px;
        }

        .answer-input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-family: inherit;
            resize: vertical;
            transition: all 0.3s ease;
        }

        .answer-input:focus {
            border-color: #3498db;
            outline: none;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        }

        .question-type {
            display: inline-block;
            padding: 5px 12px;
            background: #3498db;
            color: white;
            border-radius: 20px;
            font-size: 0.8em;
            margin-bottom: 10px;
        }

        .score-details {
            text-align: left;
            max-width: 700px;
            margin: 0 auto;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            margin-top: 20px;
        }

        .score-details ul {
            list-style-type: none;
        }

        .score-details li {
            padding: 15px;
            margin-bottom: 10px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
            }
            
            .header {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 1.8em;
            }
            
            .quiz-container {
                padding: 20px;
            }
            
            .navigation {
                flex-direction: column;
                gap: 10px;
            }
            
            .nav-btn {
                width: 100%;
            }
            
            .matching-pair {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .matching-pair select {
                width: 100%;
                margin-top: 8px;
            }
            
            .score-circle {
                width: 150px;
                height: 150px;
            }
            
            .score-percent {
                font-size: 2.2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Kuis Interaktif Informatika</h1>
            <p>Kelas X - Persiapan Ujian ASAS</p>
        </div>

        <div class="quiz-container">
            <div class="progress-bar">
                <div class="progress" id="progress"></div>
            </div>

            <div class="navigation">
                <button class="nav-btn" id="prevBtn" onclick="previousQuestion()" disabled>Soal Sebelumnya</button>
                <div class="question-counter" id="questionCounter">Soal 1 dari 5</div>
                <button class="nav-btn" id="nextBtn" onclick="nextQuestion()">Soal Berikutnya</button>
            </div>

            <div id="questionSection">
                <!-- Question content will be loaded here -->
            </div>

            <div class="score-section" id="scoreSection">
                <div class="score-circle">
                    <div class="score-percent" id="scorePercent">0%</div>
                    <div class="score-text">Nilai Akhir</div>
                </div>
                <h2 id="scoreMessage">Selamat! Anda telah menyelesaikan kuis.</h2>
                <div class="score-details" id="scoreDetails">
                    <!-- Score details will be loaded here -->
                </div>
                <button class="restart-btn" onclick="restartQuiz()">Mulai Kuis Lagi</button>
            </div>
        </div>
    </div>

    <script>
        // Questions data
        const questions = [
            {
                type: "multiple",
                question: "Sebuah tim yang terdiri dari 5 siswa sedang mengembangkan aplikasi 'SehatKu'. Manakah pernyataan yang BENAR tentang keterampilan generik?",
                options: [
                    "Daily stand-up meeting merupakan implementasi kolaborasi tim",
                    "Pembagian tugas sesuai spesialisasi menunjukkan berbagai peran",
                    "Aplikasi hanya perlu fokus pada tampilan visual yang menarik",
                    "Tester termasuk dalam mengembangkan rencana pengujian",
                    "Membuat timeline pengerjaan termasuk dalam perencanaan kerja"
                ],
                correctAnswers: [0, 1, 3, 4],
                explanation: "Pernyataan C salah karena aplikasi perlu mempertimbangkan konten dan fungsionalitas, bukan hanya tampilan visual. Pernyataan A, B, D, dan E benar karena mencerminkan prinsip kolaborasi, pembagian peran, pengujian, dan perencanaan dalam tim."
            },
            {
                type: "matching",
                question: "Pasangkan kegiatan berikut dengan struktur data yang sesuai!",
                pairs: [
                    { item: "Menumpuk piring di restoran", correctMatch: "Stack" },
                    { item: "Antrian di loket tiket", correctMatch: "Queue" },
                    { item: "Tombol undo/redo di aplikasi", correctMatch: "Stack" },
                    { item: "Daftar belanja di toko", correctMatch: "Array" }
                ],
                explanation: "Stack menggunakan prinsip LIFO (Last In First Out) seperti menumpuk piring dan undo/redo. Queue menggunakan FIFO (First In First Out) seperti antrian. Array untuk penyimpanan data terstruktur seperti daftar belanja."
            },
            {
                type: "sorting",
                question: "Urutkan data [70, 85, 60, 90, 75] dari terkecil ke terbesar menggunakan Insertion Sort! Tunjukkan 3 iterasi pertama.",
                correctAnswer: [
                    "Iterasi 1: [70, 85, 60, 90, 75]",
                    "Iterasi 2: [70, 85, 60, 90, 75]", 
                    "Iterasi 3: [60, 70, 85, 90, 75]"
                ],
                explanation: "Insertion Sort bekerja dengan menyisipkan elemen satu per satu ke posisi yang benar. Iterasi 1: 70 dan 85 sudah urut. Iterasi 2: 60 dibandingkan dengan 85 dan 70. Iterasi 3: 90 sudah urut setelah 85."
            },
            {
                type: "integration",
                question: "Untuk membuat 30 sertifikat menggunakan data dari Excel, teknik integrasi apa yang paling tepat?",
                correctAnswer: "Mail Merge",
                explanation: "Mail Merge adalah teknik yang paling efisien untuk membuat dokumen dalam jumlah banyak dengan format sama tetapi data berbeda. Fitur ini tersedia di Microsoft Word dan dapat terhubung dengan data dari Excel."
            },
            {
                type: "cpu",
                question: "Jelaskan fungsi Control Unit dalam CPU dengan analogi sederhana!",
                correctAnswer: "Control Unit seperti manajer yang mengatur dan mengontrol semua proses yang dilakukan komputer",
                explanation: "Control Unit bertugas mengambil instruksi dari memori, menerjemahkannya, dan mengatur eksekusi oleh komponen lain. Analogi: seperti konduktor orkestra yang mengatur kapan setiap pemain musik mulai dan berhenti."
            }
        ];

        let currentQuestion = 0;
        let userAnswers = Array(questions.length).fill(null);
        let score = 0;

        // Initialize quiz
        function initializeQuiz() {
            showQuestion(currentQuestion);
            updateProgress();
        }

        // Show current question
        function showQuestion(index) {
            const questionSection = document.getElementById('questionSection');
            const question = questions[index];
            
            let questionHTML = `
                <div class="question-section">
                    <div class="question-type">${getQuestionTypeLabel(question.type)}</div>
                    <div class="question-text">${question.question}</div>
                    <div class="options-container" id="optionsContainer">
            `;

            if (question.type === "multiple") {
                question.options.forEach((option, optIndex) => {
                    const isSelected = userAnswers[index] && userAnswers[index].includes(optIndex);
                    questionHTML += `
                        <div class="option ${isSelected ? 'selected' : ''}" onclick="selectMultipleOption(${optIndex})">
                            <div class="option-label">${String.fromCharCode(65 + optIndex)}</div>
                            ${option}
                        </div>
                    `;
                });
            } else if (question.type === "matching") {
                question.pairs.forEach((pair, pairIndex) => {
                    questionHTML += `
                        <div class="matching-pair">
                            <span>${pair.item}</span>
                            <select onchange="updateMatchingAnswer(${index}, ${pairIndex}, this.value)">
                                <option value="">Pilih Struktur Data</option>
                                <option value="Stack" ${userAnswers[index] && userAnswers[index][pairIndex] === 'Stack' ? 'selected' : ''}>Stack</option>
                                <option value="Queue" ${userAnswers[index] && userAnswers[index][pairIndex] === 'Queue' ? 'selected' : ''}>Queue</option>
                                <option value="Array" ${userAnswers[index] && userAnswers[index][pairIndex] === 'Array' ? 'selected' : ''}>Array</option>
                            </select>
                        </div>
                    `;
                });
            } else {
                questionHTML += `
                    <textarea class="answer-input" id="answerInput" rows="4" placeholder="Ketik jawaban Anda di sini..." 
                              oninput="updateTextAnswer(${index}, this.value)">${userAnswers[index] || ''}</textarea>
                `;
            }

            questionHTML += `</div>`;

            // Show explanation if available
            if (userAnswers[index] !== null) {
                questionHTML += `
                    <div class="explanation show">
                        <strong>Pembahasan:</strong><br>
                        ${question.explanation}
                    </div>
                `;
            }

            questionSection.innerHTML = questionHTML;
            updateNavigation();
            updateQuestionCounter();
            updateProgress();
        }

        // Get question type label
        function getQuestionTypeLabel(type) {
            const labels = {
                "multiple": "Pilihan Ganda",
                "matching": "Menjodohkan",
                "sorting": "Pengurutan",
                "integration": "Integrasi Aplikasi",
                "cpu": "Penjelasan"
            };
            return labels[type] || type;
        }

        // Multiple choice selection
        function selectMultipleOption(optionIndex) {
            if (!userAnswers[currentQuestion]) {
                userAnswers[currentQuestion] = [];
            }
            
            const index = userAnswers[currentQuestion].indexOf(optionIndex);
            if (index === -1) {
                userAnswers[currentQuestion].push(optionIndex);
            } else {
                userAnswers[currentQuestion].splice(index, 1);
            }
            
            showQuestion(currentQuestion);
        }

        // Update matching answers
        function updateMatchingAnswer(qIndex, pairIndex, value) {
            if (!userAnswers[qIndex]) {
                userAnswers[qIndex] = [];
            }
            userAnswers[qIndex][pairIndex] = value;
        }

        // Update text answers
        function updateTextAnswer(qIndex, value) {
            userAnswers[qIndex] = value;
        }

        // Navigation functions
        function nextQuestion() {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                showQuestion(currentQuestion);
            } else {
                calculateScore();
                showScore();
            }
        }

        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion(currentQuestion);
            }
        }

        // Update navigation buttons
        function updateNavigation() {
            document.getElementById('prevBtn').disabled = currentQuestion === 0;
            
            if (currentQuestion === questions.length - 1) {
                document.getElementById('nextBtn').textContent = 'Lihat Hasil';
            } else {
                document.getElementById('nextBtn').textContent = 'Soal Berikutnya';
            }
        }

        // Update question counter
        function updateQuestionCounter() {
            document.getElementById('questionCounter').textContent = 
                `Soal ${currentQuestion + 1} dari ${questions.length}`;
        }

        // Update progress bar
        function updateProgress() {
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            document.getElementById('progress').style.width = `${progress}%`;
        }

        // Calculate final score
        function calculateScore() {
            score = 0;
            let scoreDetailsHTML = "<h3>Detail Jawaban:</h3><ul>";
            
            questions.forEach((question, index) => {
                const userAnswer = userAnswers[index];
                let isCorrect = false;
                let correctAnswerText = "";
                let userAnswerText = "";
                
                if (question.type === "multiple") {
                    const correctCount = question.correctAnswers.length;
                    let matchCount = 0;
                    
                    if (userAnswer && userAnswer.length > 0) {
                        userAnswer.forEach(opt => {
                            if (question.correctAnswers.includes(opt)) matchCount++;
                        });
                        
                        // Remove incorrect selections from match count
                        userAnswer.forEach(opt => {
                            if (!question.correctAnswers.includes(opt)) matchCount--;
                        });
                    }
                    
                    isCorrect = matchCount === correctCount;
                    correctAnswerText = question.correctAnswers.map(opt => question.options[opt]).join(", ");
                    userAnswerText = userAnswer ? userAnswer.map(opt => question.options[opt]).join(", ") : "Tidak dijawab";
                    
                } else if (question.type === "matching") {
                    let correctMatches = 0;
                    if (userAnswer && userAnswer.length > 0) {
                        question.pairs.forEach((pair, i) => {
                            if (userAnswer[i] === pair.correctMatch) correctMatches++;
                        });
                    }
                    isCorrect = correctMatches === question.pairs.length;
                    correctAnswerText = question.pairs.map(p => `${p.item} → ${p.correctMatch}`).join("<br>");
                    userAnswerText = userAnswer ? question.pairs.map((p, i) => `${p.item} → ${userAnswer[i] || 'Tidak dijawab'}`).join("<br>") : "Tidak dijawab";
                    
                } else {
                    // For text-based answers, we'll consider them correct if they contain key phrases
                    const userAnswerLower = (userAnswer || "").toLowerCase();
                    const correctAnswerLower = Array.isArray(question.correctAnswer) 
                        ? question.correctAnswer.join(" ").toLowerCase()
                        : question.correctAnswer.toLowerCase();
                    
                    // Check if user answer contains key phrases from correct answer
                    const keyPhrases = correctAnswerLower.split(" ").filter(word => word.length > 3);
                    let matchedPhrases = 0;
                    
                    keyPhrases.forEach(phrase => {
                        if (userAnswerLower.includes(phrase)) matchedPhrases++;
                    });
                    
                    isCorrect = matchedPhrases >= keyPhrases.length * 0.7; // At least 70% match
                    correctAnswerText = Array.isArray(question.correctAnswer) ? 
                        question.correctAnswer.join("<br>") : question.correctAnswer;
                    userAnswerText = userAnswer || "Tidak dijawab";
                }
                
                if (isCorrect) score++;
                
                scoreDetailsHTML += `
                    <li>
                        <strong>Soal ${index + 1}:</strong> ${isCorrect ? '✅ Benar' : '❌ Salah'}
                        <div class="correct-answer">Jawaban benar: ${correctAnswerText}</div>
                        <div class="user-answer">Jawaban Anda: ${userAnswerText}</div>
                    </li>
                `;
            });
            
            scoreDetailsHTML += "</ul>";
            document.getElementById('scoreDetails').innerHTML = scoreDetailsHTML;
        }

        // Show final score
        function showScore() {
            const scorePercent = Math.round((score / questions.length) * 100);
            document.getElementById('scorePercent').textContent = `${scorePercent}%`;
            
            let message = "";
            if (scorePercent >= 80) {
                message = "Excellent! Pemahaman Anda sangat baik.";
            } else if (scorePercent >= 60) {
                message = "Good! Anda sudah memahami sebagian besar materi.";
            } else {
                message = "Perlu belajar lebih giat lagi. Review materi yang belum dipahami.";
            }
            document.getElementById('scoreMessage').textContent = message;
            
            document.getElementById('questionSection').style.display = 'none';
            document.getElementById('scoreSection').classList.add('show');
            document.querySelector('.navigation').style.display = 'none';
        }

        // Restart quiz
        function restartQuiz() {
            currentQuestion = 0;
            userAnswers = Array(questions.length).fill(null);
            score = 0;
            
            document.getElementById('questionSection').style.display = 'block';
            document.getElementById('scoreSection').classList.remove('show');
            document.querySelector('.navigation').style.display = 'flex';
            
            showQuestion(currentQuestion);
            updateProgress();
        }

        // Initialize the quiz when page loads
        window.onload = initializeQuiz;
    </script>
</body>
</html>
