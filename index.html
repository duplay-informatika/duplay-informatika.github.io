<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Latihan Soal Interaktif - Informatika Kelas X</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
        }

        .header p {
            opacity: 0.9;
            font-size: 1.1em;
        }

        .quiz-container {
            padding: 30px;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
        }

        .nav-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            background: #3498db;
            color: white;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .nav-btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }

        .nav-btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
            transform: none;
        }

        .question-counter {
            font-weight: bold;
            color: #2c3e50;
            font-size: 18px;
        }

        .question-section {
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            margin-bottom: 25px;
            border-left: 5px solid #3498db;
        }

        .question-text {
            font-size: 1.3em;
            color: #2c3e50;
            margin-bottom: 20px;
            font-weight: 600;
        }

        .options-container {
            display: grid;
            gap: 12px;
            margin-bottom: 20px;
        }

        .option {
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: #fafafa;
        }

        .option:hover {
            border-color: #3498db;
            background: #f0f8ff;
        }

        .option.selected {
            border-color: #27ae60;
            background: #e8f6ef;
        }

        .explanation {
            background: #e8f4fd;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            border-left: 4px solid #3498db;
            display: none;
        }

        .explanation.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .score-section {
            text-align: center;
            padding: 30px;
            display: none;
        }

        .score-section.show {
            display: block;
            animation: fadeIn 0.8s ease;
        }

        .score-circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            margin: 0 auto 25px;
            box-shadow: 0 10px 25px rgba(39, 174, 96, 0.3);
        }

        .score-percent {
            font-size: 2.5em;
            font-weight: bold;
        }

        .score-text {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .restart-btn {
            padding: 15px 40px;
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        .restart-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(231, 76, 60, 0.3);
        }

        .progress-bar {
            height: 8px;
            background: #ecf0f1;
            border-radius: 4px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background: linear-gradient(90deg, #27ae60, #2ecc71);
            width: 0%;
            transition: width 0.5s ease;
        }

        .correct-answer {
            color: #27ae60;
            font-weight: bold;
            margin-top: 10px;
        }

        .user-answer {
            color: #e74c3c;
            font-weight: bold;
            margin-top: 5px;
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
            }
            
            .header {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 1.8em;
            }
            
            .quiz-container {
                padding: 20px;
            }
            
            .navigation {
                flex-direction: column;
                gap: 10px;
            }
            
            .nav-btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Latihan Soal Interaktif</h1>
            <p>Informatika Kelas X - Persiapan ASAS</p>
        </div>

        <div class="quiz-container">
            <div class="progress-bar">
                <div class="progress" id="progress"></div>
            </div>

            <div class="navigation">
                <button class="nav-btn" id="prevBtn" onclick="previousQuestion()" disabled>Soal Sebelumnya</button>
                <div class="question-counter" id="questionCounter">Soal 1 dari 5</div>
                <button class="nav-btn" id="nextBtn" onclick="nextQuestion()">Soal Berikutnya</button>
            </div>

            <div id="questionSection">
                <!-- Question content will be loaded here -->
            </div>

            <div class="score-section" id="scoreSection">
                <div class="score-circle">
                    <div class="score-percent" id="scorePercent">0%</div>
                    <div class="score-text">Nilai Akhir</div>
                </div>
                <h2 id="scoreMessage">Selamat! Anda telah menyelesaikan latihan soal.</h2>
                <p id="scoreDetails">Detail jawaban akan ditampilkan di sini.</p>
                <button class="restart-btn" onclick="restartQuiz()">Ulangi Latihan</button>
            </div>
        </div>
    </div>

    <script>
        // Questions data
        const questions = [
            {
                type: "multiple",
                question: "Sebuah tim yang terdiri dari 5 siswa sedang mengembangkan aplikasi 'SehatKu'. Manakah pernyataan yang BENAR tentang keterampilan generik?",
                options: [
                    "Daily stand-up meeting merupakan implementasi kolaborasi tim",
                    "Pembagian tugas sesuai spesialisasi menunjukkan berbagai peran",
                    "Aplikasi hanya perlu fokus pada tampilan visual yang menarik",
                    "Tester termasuk dalam mengembangkan rencana pengujian",
                    "Membuat timeline pengerjaan termasuk dalam perencanaan kerja"
                ],
                correctAnswers: [0, 1, 3, 4],
                explanation: "Pernyataan C salah karena aplikasi perlu mempertimbangkan konten dan fungsionalitas, bukan hanya tampilan visual. Pernyataan A, B, D, dan E benar karena mencerminkan prinsip kolaborasi, pembagian peran, pengujian, dan perencanaan dalam tim."
            },
            {
                type: "matching",
                question: "Pasangkan kegiatan berikut dengan struktur data yang sesuai!",
                pairs: [
                    { item: "Menumpuk piring di restoran", correctMatch: "Stack" },
                    { item: "Antrian di loket tiket", correctMatch: "Queue" },
                    { item: "Tombol undo/redo di aplikasi", correctMatch: "Stack" },
                    { item: "Daftar belanja di toko", correctMatch: "Array" }
                ],
                explanation: "Stack menggunakan prinsip LIFO (Last In First Out) seperti menumpuk piring dan undo/redo. Queue menggunakan FIFO (First In First Out) seperti antrian. Array untuk penyimpanan data terstruktur seperti daftar belanja."
            },
            {
                type: "sorting",
                question: "Urutkan data [70, 85, 60, 90, 75] dari terkecil ke terbesar menggunakan Insertion Sort! Tunjukkan 3 iterasi pertama.",
                correctAnswer: [
                    "Iterasi 1: [70, 85, 60, 90, 75]",
                    "Iterasi 2: [70, 85, 60, 90, 75]", 
                    "Iterasi 3: [60, 70, 85, 90, 75]"
                ],
                explanation: "Insertion Sort bekerja dengan menyisipkan elemen satu per satu ke posisi yang benar. Iterasi 1: 70 dan 85 sudah urut. Iterasi 2: 60 dibandingkan dengan 85 dan 70. Iterasi 3: 90 sudah urut setelah 85."
            },
            {
                type: "integration",
                question: "Untuk membuat 30 sertifikat menggunakan data dari Excel, teknik integrasi apa yang paling tepat?",
                correctAnswer: "Mail Merge",
                explanation: "Mail Merge adalah teknik yang paling efisien untuk membuat dokumen dalam jumlah banyak dengan format sama tetapi data berbeda. Fitur ini tersedia di Microsoft Word dan dapat terhubung dengan data dari Excel."
            },
            {
                type: "cpu",
                question: "Jelaskan fungsi Control Unit dalam CPU dengan analogi sederhana!",
                correctAnswer: "Control Unit seperti manajer yang mengatur dan mengontrol semua proses yang dilakukan komputer",
                explanation: "Control Unit bertugas mengambil instruksi dari memori, menerjemahkannya, dan mengatur eksekusi oleh komponen lain. Analogi: seperti konduktor orkestra yang mengatur kapan setiap pemain musik mulai dan berhenti."
            }
        ];

        let currentQuestion = 0;
        let userAnswers = Array(questions.length).fill(null);
        let score = 0;

        // Initialize quiz
        function initializeQuiz() {
            showQuestion(currentQuestion);
            updateProgress();
        }

        // Show current question
        function showQuestion(index) {
            const questionSection = document.getElementById('questionSection');
            const question = questions[index];
            
            let questionHTML = `
                <div class="question-section">
                    <div class="question-text">${question.question}</div>
                    <div class="options-container" id="optionsContainer">
            `;

            if (question.type === "multiple") {
                question.options.forEach((option, optIndex) => {
                    const isSelected = userAnswers[index] && userAnswers[index].includes(optIndex);
                    questionHTML += `
                        <div class="option ${isSelected ? 'selected' : ''}" onclick="selectMultipleOption(${optIndex})">
                            ${option}
                        </div>
                    `;
                });
            } else if (question.type === "matching") {
                question.pairs.forEach((pair, pairIndex) => {
                    questionHTML += `
                        <div class="matching-pair">
                            <span>${pair.item}</span>
                            <select onchange="updateMatchingAnswer(${index}, ${pairIndex}, this.value)">
                                <option value="">Pilih Struktur Data</option>
                                <option value="Stack" ${userAnswers[index] && userAnswers[index][pairIndex] === 'Stack' ? 'selected' : ''}>Stack</option>
                                <option value="Queue" ${userAnswers[index] && userAnswers[index][pairIndex] === 'Queue' ? 'selected' : ''}>Queue</option>
                                <option value="Array" ${userAnswers[index] && userAnswers[index][pairIndex] === 'Array' ? 'selected' : ''}>Array</option>
                            </select>
                        </div>
                    `;
                });
            } else {
                questionHTML += `
                    <textarea id="answerInput" rows="4" placeholder="Ketik jawaban Anda di sini..." 
                              oninput="updateTextAnswer(${index}, this.value)"
                              style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-family: inherit; resize: vertical;">
                        ${userAnswers[index] || ''}
                    </textarea>
                `;
            }

            questionHTML += `</div>`;

            // Show explanation if available
            if (userAnswers[index] !== null) {
                questionHTML += `
                    <div class="explanation show">
                        <strong>Pembahasan:</strong><br>
                        ${question.explanation}
                    </div>
                `;
            }

            questionSection.innerHTML = questionHTML;
            updateNavigation();
            updateQuestionCounter();
        }

        // Multiple choice selection
        function selectMultipleOption(optionIndex) {
            if (!userAnswers[currentQuestion]) {
                userAnswers[currentQuestion] = [];
            }
            
            const index = userAnswers[currentQuestion].indexOf(optionIndex);
            if (index === -1) {
                userAnswers[currentQuestion].push(optionIndex);
            } else {
                userAnswers[currentQuestion].splice(index, 1);
            }
            
            showQuestion(currentQuestion);
        }

        // Update matching answers
        function updateMatchingAnswer(qIndex, pairIndex, value) {
            if (!userAnswers[qIndex]) {
                userAnswers[qIndex] = [];
            }
            userAnswers[qIndex][pairIndex] = value;
        }

        // Update text answers
        function updateTextAnswer(qIndex, value) {
            userAnswers[qIndex] = value;
        }

        // Navigation functions
        function nextQuestion() {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                showQuestion(currentQuestion);
            } else {
                calculateScore();
                showScore();
            }
        }

        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion(currentQuestion);
            }
        }

        // Update navigation buttons
        function updateNavigation() {
            document.getElementById('prevBtn').disabled = currentQuestion === 0;
            
            if (currentQuestion === questions.length - 1) {
                document.getElementById('nextBtn').textContent = 'Lihat Hasil';
            } else {
                document.getElementById('nextBtn').textContent = 'Soal Berikutnya';
            }
        }

        // Update question counter
        function updateQuestionCounter() {
            document.getElementById('questionCounter').textContent = 
                `Soal ${currentQuestion + 1} dari ${questions.length}`;
        }

        // Update progress bar
        function updateProgress() {
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            document.getElementById('progress').style.width = `${progress}%`;
        }

        // Calculate final score
        function calculateScore() {
            score = 0;
            let scoreDetails = "<h3>Detail Jawaban:</h3><ul>";
            
            questions.forEach((question, index) => {
                const userAnswer = userAnswers[index];
                let isCorrect = false;
                let correctAnswerText = "";
                let userAnswerText = "";
                
                if (question.type === "multiple") {
                    const correctCount = question.correctAnswers.length;
                    let matchCount = 0;
                    
                    if (userAnswer && userAnswer.length > 0) {
                        userAnswer.forEach(opt => {
                            if (question.correctAnswers.includes(opt)) matchCount++;
                        });
                        
                        // Remove incorrect selections from match count
                        userAnswer.forEach(opt => {
                            if (!question.correctAnswers.includes(opt)) matchCount--;
                        });
                    }
                    
                    isCorrect = matchCount === correctCount;
                    correctAnswerText = question.correctAnswers.map(opt => question.options[opt]).join(", ");
                    userAnswerText = userAnswer ? userAnswer.map(opt => question.options[opt]).join(", ") : "Tidak dijawab";
                    
                } else if (question.type === "matching") {
                    let correctMatches = 0;
                    if (userAnswer && userAnswer.length > 0) {
                        question.pairs.forEach((pair, i) => {
                            if (userAnswer[i] === pair.correctMatch) correctMatches++;
                        });
                    }
                    isCorrect = correctMatches === question.pairs.length;
                    correctAnswerText = question.pairs.map(p => `${p.item} → ${p.correctMatch}`).join("<br>");
                    userAnswerText = userAnswer ? question.pairs.map((p, i) => `${p.item} → ${userAnswer[i] || 'Tidak dijawab'}`).join("<br>") : "Tidak dijawab";
                    
                } else {
                    // For text-based answers, we'll consider them correct if they contain key phrases
                    const userAnswerLower = (userAnswer || "").toLowerCase();
                    const correctAnswerLower = question.correctAnswer.toLowerCase();
                    isCorrect = userAnswerLower.includes(correctAnswerLower) || 
                               correctAnswerLower.includes(userAnswerLower);
                    correctAnswerText = Array.isArray(question.correctAnswer) ? 
                        question.correctAnswer.join("<br>") : question.correctAnswer;
                    userAnswerText = userAnswer || "Tidak dijawab";
                }
                
                if (isCorrect) score++;
                
                scoreDetails += `
                    <li>
                        <strong>Soal ${index + 1}:</strong> ${isCorrect ? '✅ Benar' : '❌ Salah'}
                        <div class="correct-answer">Jawaban benar: ${correctAnswerText}</div>
                        <div class="user-answer">Jawaban Anda: ${userAnswerText}</div>
                    </li>
                `;
            });
            
            scoreDetails += "</ul>";
            document.getElementById('scoreDetails').innerHTML = scoreDetails;
        }

        // Show final score
        function showScore() {
            const scorePercent = Math.round((score / questions.length) * 100);
            document.getElementById('scorePercent').textContent = `${scorePercent}%`;
            
            let message = "";
            if (scorePercent >= 80) {
                message = "Excellent! Pemahaman Anda sangat baik.";
            } else if (scorePercent >= 60) {
                message = "Good! Anda sudah memahami sebagian besar materi.";
            } else {
                message = "Perlu belajar lebih giat lagi. Review materi yang belum dipahami.";
            }
            document.getElementById('scoreMessage').textContent = message;
            
            document.getElementById('questionSection').style.display = 'none';
            document.getElementById('scoreSection').classList.add('show');
            document.querySelector('.navigation').style.display = 'none';
        }

        // Restart quiz
        function restartQuiz() {
            currentQuestion = 0;
            userAnswers = Array(questions.length).fill(null);
            score = 0;
            
            document.getElementById('questionSection').style.display = 'block';
            document.getElementById('scoreSection').classList.remove('show');
            document.querySelector('.navigation').style.display = 'flex';
            
            showQuestion(currentQuestion);
            updateProgress();
        }

        // Initialize the quiz when page loads
        window.onload = initializeQuiz;
    </script>
</body>
</html>